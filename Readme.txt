
ЗАДАЧА
Интернет-магазин «В один клик» продаёт разные товары: для детей, для дома, мелкую бытовую технику, косметику и даже продукты. Отчёт магазина за прошлый период показал, что активность покупателей начала снижаться. Привлекать новых клиентов уже не так эффективно: о магазине и так знает большая часть целевой аудитории. Возможный выход — удерживать активность постоянных клиентов. Сделать это можно с помощью персонализированных предложений. «В один клик» — современная компания, поэтому её руководство не хочет принимать решения просто так — только на основе анализа данных и бизнес-моделирования.

Необходимо разработать решение, которое позволит персонализировать предложения постоянным клиентам, чтобы увеличить их покупательскую активность.

Для решения данной задачи необходимо:

промаркировать уровень финансовой активности постоянных покупателей. В компании принято выделять два уровня активности: «снизилась», если клиент стал покупать меньше товаров, и «прежний уровень».
собрать данные по клиентам по следующим группам:
Признаки, которые описывают коммуникацию сотрудников компании с клиентом.
Признаки, которые описывают продуктовое поведение покупателя. Например, какие товары покупает и как часто.
Признаки, которые описывают покупательское поведение клиента. Например, сколько тратил в магазине.
Признаки, которые описывают поведение покупателя на сайте. Например, как много страниц просматривает и сколько времени проводит на сайте.
Нужно построить модель, которая предскажет вероятность снижения покупательской активности клиента в следующие три месяца.
В исследование нужно включить дополнительные данные финансового департамента о прибыльности клиента: какой доход каждый покупатель приносил компании за последние три месяца.
Используя данные модели и данные о прибыльности клиентов, нужно выделить сегменты покупателей и разработать для них персонализированные предложения.

ДАННЫЕ
Данные содержат 4 датасета:
- датасет market_file.csv, содержащий информацию о поведении покупателя на сайте, о коммуникациях с покупателем и его продуктовом поведении. 
- датасет market_money.csv, в котором храняться данные о том сколько покупатель всего потратил за период взаимодействия с сайтом. 
- датасет market_time.csv с данными о времени (в минутах), которое покупатель провёл на сайте в течение периода.
- датасет money.csv с данными о среднемесячной прибыли покупателя за последние 3 месяца: какую прибыль получает магазин от продаж каждому покупателю.


ИСПОЛЬЗУЕМЫЕ МОДЕЛИ
KNeighborsClassifier, DecisionTreeClassifier, LogisticRegression и  SVC. Для каждой модели были подобраны гиперпараметры.
В качестве метрики была выбрана "roc_auc" так как она устойчива к неравновесным выборкам. 


РЕЗУЛЬТАТЫ
    - Среди рассмотренных моделей лучшиее значение получилось для SVC, значение метрики на тестовой выборке составило 0,873. 
    - После расширения списка гиперпараметров удалось поднять метрику до 0.88. 
    - Обучение лучшей модели на выбранных признаках по корреляции с целевым позволила поднять значение метрики до 0.882. 
    - Расширение пайплайна функцией SelectKBest и автоматический подбор признаков позволил поднять значение до 0.8852. Лучшее значение метрики по тестовой выбрке  получилось для модели SVC c параметрами C=1, coef0=0.0001, degree=1, random_state=42. В качестве признаков были выбраны категориальные: 'тип_сервиса', 'популярная_категория' и числовые 'маркет_актив_тек_мес', 'средний_просмотр_категорий_за_визит', 'неоплаченные_продукты_штук_квартал', 'ошибка_сервиса', 'страниц_за_визит', 'препредыдущий_месяц_выручка', 'предыдущий_месяц_мин', 'текущий_месяц_мин'. Значение метрики составило 0.8857.
    - Обход с использованием пайплайна с функцией SelectKBest по признакам выбранным на основе корреляции с целевым лучшего значения метрики не дал. На тестовой выборке значение равнялось 0.8827.
